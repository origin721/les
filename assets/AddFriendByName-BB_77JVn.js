import{P as fe,S as be,U as me,p as U,V as m,f as z,W as se,X as pe,Y as ge,c as b,a as p,j as W,Z as te,g as he,_ as ye,m as xe,$ as je,B as t,a0 as Z,E as D,G as l,d as y,D as O,L as H,R as Q,y as R,s as q,b as I,t as ze,x as we,a1 as ke,z as G,a2 as Ne,u as qe,C as Ae}from"./index-L0yedsza.js";import{B as Se,C as De}from"./ContentSection-GAmXyaz7.js";import{s as Pe}from"./index-Cp9y5hr7.js";const Te=[];function Ee(s,e=!1){return B(s,new Map,"",Te)}function B(s,e,_,g,o=null){if(typeof s=="object"&&s!==null){var i=e.get(s);if(i!==void 0)return i;if(s instanceof Map)return new Map(s);if(s instanceof Set)return new Set(s);if(fe(s)){var a=Array(s.length);e.set(s,a),o!==null&&e.set(o,a);for(var c=0;c<s.length;c+=1){var A=s[c];c in s&&(a[c]=B(A,e,_,g))}return a}if(be(s)===me){a={},e.set(s,a),o!==null&&e.set(o,a);for(var v in s)a[v]=B(s[v],e,_,g);return a}if(s instanceof Date)return structuredClone(s);if(typeof s.toJSON=="function")return B(s.toJSON(),e,_,g,s)}if(s instanceof EventTarget)return s;try{return structuredClone(s)}catch{return s}}const Re="_button_1quw5_4",Ie="_xs_1quw5_9",Be="_sm_1quw5_13",Ce="_md_1quw5_17",Le="_lg_1quw5_21",Me="_xl_1quw5_25",Fe="_primary_1quw5_30",Oe="_secondary_1quw5_47",Ge="_outline_1quw5_59",Ue="_ghost_1quw5_72",We="_danger_1quw5_84",Ye="_success_1quw5_94",Je="_disabled_1quw5_105",Ke="_loading_1quw5_109",Ve="_spin_1quw5_1",E={button:Re,xs:Ie,sm:Be,md:Ce,lg:Le,xl:Me,primary:Fe,secondary:Oe,outline:Ge,ghost:Ue,danger:We,success:Ye,disabled:Je,loading:Ke,spin:Ve};var $e=z("<button><!></button>");function Xe(s,e){U(e,!0);let _=m(e,"variant",3,"primary"),g=m(e,"size",3,"md"),o=m(e,"disabled",3,!1),i=m(e,"loading",3,!1),a=m(e,"type",3,"button"),c=te(e,["$$slots","$$events","$$legacy","variant","size","disabled","loading","type","onclick","children"]);const A=()=>{let x=[E.button,E[g()],E[_()]];return o()&&x.push(E.disabled),i()&&x.push(E.loading),x.join(" ")};var v=$e();se(v,x=>({type:a(),class:x,disabled:o(),onclick:e.onclick,...c}),[A]);var S=b(v);pe(S,()=>e.children??ge),p(s,v),W()}const Ze="_form_1esnz_4",He="_xs_1esnz_14",Qe="_sm_1esnz_18",es="_md_1esnz_22",ss="_lg_1esnz_26",ts="_xl_1esnz_30",ns="_input_1esnz_35",as="_textarea_1esnz_39",os="_select_1esnz_43",ls="_checkbox_1esnz_66",rs="_radio_1esnz_84",is="_error_1esnz_107",cs="_success_1esnz_117",ds="_disabled_1esnz_127",_s="_readonly_1esnz_132",vs="_group_1esnz_138",us="_label_1esnz_142",fs="_labelRequired_1esnz_148",bs="_hint_1esnz_154",ms="_errorText_1esnz_159",ps="_successText_1esnz_164",gs="_fieldset_1esnz_169",hs="_legend_1esnz_174",ys="_inputGroup_1esnz_180",xs="_addon_1esnz_200",js="_addonLeft_1esnz_207",zs="_addonRight_1esnz_211",r={form:Ze,xs:He,sm:Qe,md:es,lg:ss,xl:ts,input:ns,textarea:as,select:os,checkbox:ls,radio:rs,error:is,success:cs,disabled:ds,readonly:_s,group:vs,label:us,labelRequired:fs,hint:bs,errorText:ms,successText:ps,fieldset:gs,legend:hs,inputGroup:ys,addon:xs,addonLeft:js,addonRight:zs};var ws=z("<input/>");function ee(s,e){U(e,!0);let _=m(e,"type",3,"text"),g=m(e,"size",3,"md"),o=m(e,"state",3,"default"),i=m(e,"disabled",3,!1),a=m(e,"readonly",3,!1),c=m(e,"placeholder",3,""),A=m(e,"value",15,""),v=m(e,"className",3,""),S=te(e,["$$slots","$$events","$$legacy","type","size","state","disabled","readonly","placeholder","value","oninput","onchange","onkeydown","id","className"]);const x=()=>{let n=[r.form,r.input,r[g()]];return o()==="error"&&n.push(r.error),o()==="success"&&n.push(r.success),i()&&n.push(r.disabled),a()&&n.push(r.readonly),v()&&n.push(v()),n.join(" ")};var h=ws();se(h,n=>({type:_(),id:e.id,class:n,disabled:i(),readonly:a(),placeholder:c(),oninput:e.oninput,onchange:e.onchange,onkeydown:e.onkeydown,...S}),[x]),he(h,A),p(s,h),W()}var ks=z('<div class="no-accounts svelte-vjb730"><span class="warning-icon svelte-vjb730">‚ö†Ô∏è</span> <span>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤</span> <!></div>'),Ns=z("<option> </option>"),qs=z('<select id="account-select"></select>'),As=z('<div><span class="message-icon svelte-vjb730"> </span> <span class="message-text"> </span></div>'),Ss=z("<span>–î–û–ë–ê–í–õ–ï–ù–ò–ï...</span>"),Ds=z('<span class="button-icon svelte-vjb730">‚ûï</span> <span>–î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê</span>',1),Ps=z('<span class="button-icon svelte-vjb730">‚¨ÖÔ∏è</span> <span>–ù–ê–ó–ê–î</span>',1),Ts=z('<div class="form-container svelte-vjb730"><div class="form-wrapper svelte-vjb730"><div class="form-header svelte-vjb730"><div class="form-icon svelte-vjb730">üë§</div> <h3 class="form-title svelte-vjb730">–ù–û–í–´–ô –ö–û–ù–¢–ê–ö–¢</h3></div> <div class="form-content svelte-vjb730"><div><label for="account-select"><span class="label-icon svelte-vjb730">üë§</span> <span class="label-text svelte-vjb730">–í–´–ë–ï–†–ò–¢–ï –ê–ö–ö–ê–£–ù–¢</span></label> <!></div> <div><label for="friend-name"><span class="label-icon svelte-vjb730">üìù</span> <span class="label-text svelte-vjb730">–ò–ú–Ø –î–†–£–ì–ê</span></label> <!></div> <div><label for="friend-nickname"><span class="label-icon svelte-vjb730">üè∑Ô∏è</span> <span class="label-text svelte-vjb730">–ù–ò–ö–ù–ï–ô–ú (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)</span></label> <!></div> <!> <div class="form-actions svelte-vjb730"><!> <!></div></div> <div class="form-info svelte-vjb730"><div class="info-item svelte-vjb730"><span class="info-icon svelte-vjb730">üí°</span> <span class="info-text">–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</span></div> <div class="info-item svelte-vjb730"><span class="info-icon svelte-vjb730">üîí</span> <span class="info-text">–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è</span></div></div></div></div>');function Bs(s,e){U(e,!0);let _=D(""),g=D(""),o=D(""),i=D(!1),a=D(""),c=D("");const A=ye(xe),v=Z(()=>{var h;return Object.values(((h=A.state)==null?void 0:h.byId)||{})});je(()=>{t(v).length>0&&!t(o)&&l(o,t(v)[0].id,!0)});async function S(){if(!t(_).trim()){l(a,"–í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥—Ä—É–≥–∞"),l(c,"error");return}if(!t(o)){l(a,"–í—ã–±–µ—Ä–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç"),l(c,"error");return}l(i,!0),l(a,""),l(c,"");const h=new Promise((n,P)=>{setTimeout(()=>P(new Error("Timeout: –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—ã—Å–∏–ª–∞ 10 —Å–µ–∫—É–Ω–¥")),1e4)});try{console.log("üîÑ –ù–∞—á–∏–Ω–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∞...");const n=t(v).find(C=>C.id===t(o));console.log("üë§ –í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:",Ee(n)),n&&console.log("üîÑ –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é..."),console.log("üîÑ –î–æ–±–∞–≤–ª—è–µ–º –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ API...");const P={namePub:t(_).trim(),myAccId:t(o),friendPubKeyLibp2p:""};console.log("üìù –î–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∞:",P),await Promise.race([Pe.friends.add({friends:[P],myAccId:t(o)}),h]),console.log("‚úÖ –î—Ä—É–≥ –¥–æ–±–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ"),l(a,`–î—Ä—É–≥ "${t(_)}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤`),l(c,"success"),l(_,""),l(g,"")}catch(n){console.error("‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞:",n),console.error("‚ùå –ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:",{message:n==null?void 0:n.message,stack:n==null?void 0:n.stack,name:n==null?void 0:n.name,error:n}),l(a,`–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥—Ä—É–≥–∞: ${(n==null?void 0:n.message)||String(n)}`),l(c,"error")}finally{console.log("üèÅ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞, —Å–±—Ä–æ—Å loading"),setTimeout(()=>{l(i,!1),console.log("üîÑ Loading —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ false")},100)}}function x(h){h.key==="Enter"&&!t(i)&&S()}Se(s,{title:"ADD_FRIEND_BY_NAME",subtitle:"–î–û–ë–ê–í–ò–¢–¨_–î–†–£–ì–ê",pageName:"AddFriendByNamePage",footerVersion:"// ADD_FRIEND_BY_NAME_v0.1.0 //",footerStatus:"MODE: SIMPLE",children:n=>{De(n,{title:"// –î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê //",description:"–ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",children:C=>{var Y=Ts(),ne=b(Y),ae=y(b(ne),2),L=b(ae),J=b(L),oe=y(J,2);{var le=d=>{var u=ks(),f=y(b(u),4);H(f,{get href(){return Q.ACCOUNTS_NEW},className:"create-account-link",children:(j,w)=>{var k=ze("–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç");p(j,k)},$$slots:{default:!0}}),p(d,u)},re=d=>{var u=qs();we(u,21,()=>t(v),Ae,(f,j)=>{var w=Ns(),k={},N=b(w);R(T=>{k!==(k=t(j).id)&&(w.value=(w.__value=t(j).id)??""),G(N,`${t(j).namePub??""} (ID: ${T??""}...)`)},[()=>t(j).id.slice(0,8)]),p(f,w)}),R(()=>{q(u,1,`${r.form} ${r.select} ${r.md} form-select-styled`,"svelte-vjb730"),u.disabled=t(i)}),ke(u,()=>t(o),f=>l(o,f)),p(d,u)};O(oe,d=>{t(v).length===0?d(le):d(re,!1)})}var M=y(L,2),K=b(M),ie=y(K,2);ee(ie,{id:"friend-name",onkeydown:x,placeholder:"–í–≤–µ–¥–∏—Ç–µ –∏–º—è...",get disabled(){return t(i)},className:"form-input-styled",get value(){return t(_)},set value(d){l(_,d,!0)}});var F=y(M,2),V=b(F),ce=y(V,2);ee(ce,{id:"friend-nickname",onkeydown:x,placeholder:"–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è...",get disabled(){return t(i)},className:"form-input-styled",get value(){return t(g)},set value(d){l(g,d,!0)}});var $=y(F,2);{var de=d=>{var u=As(),f=b(u),j=b(f),w=y(f,2),k=b(w);R(()=>{q(u,1,`message message-${t(c)??""}`,"svelte-vjb730"),G(j,t(c)==="success"?"‚úÖ":"‚ùå"),G(k,t(a))}),p(d,u)};O($,d=>{t(a)&&d(de)})}var _e=y($,2),X=b(_e);const ve=Z(()=>t(i)||!t(_).trim());Xe(X,{variant:"primary",size:"lg",onclick:S,get disabled(){return t(ve)},get loading(){return t(i)},children:u=>{var f=Ne(),j=qe(f);{var w=N=>{var T=Ss();p(N,T)},k=N=>{var T=Ds();p(N,T)};O(j,N=>{t(i)?N(w):N(k,!1)})}p(u,f)},$$slots:{default:!0}});var ue=y(X,2);H(ue,{get href(){return Q.ADD_FRIEND},className:"action-button secondary",children:(d,u)=>{var f=Ps();p(d,f)},$$slots:{default:!0}}),R(()=>{q(L,1,I(r.group),"svelte-vjb730"),q(J,1,`${r.label} ${r.labelRequired}`,"svelte-vjb730"),q(M,1,I(r.group),"svelte-vjb730"),q(K,1,`${r.label} ${r.labelRequired}`,"svelte-vjb730"),q(F,1,I(r.group),"svelte-vjb730"),q(V,1,I(r.label),"svelte-vjb730")}),p(C,Y)},$$slots:{default:!0}})},$$slots:{default:!0}}),W()}export{Bs as default};
