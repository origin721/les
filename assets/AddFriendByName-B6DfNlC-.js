import{P as me,S as pe,U as ge,p as Y,V as m,f as z,W as ne,X as he,Y as ye,c as b,a as p,j as J,Z as ae,g as xe,_ as je,m as ze,$ as we,B as t,a0 as H,E as P,G as l,d as y,D as G,L as Q,R as ee,y as R,s as q,b as B,t as ke,x as Ne,a1 as qe,z as U,a2 as Ae,u as Se,a3 as D,a4 as se,a5 as Pe,a6 as De,C as Ee}from"./index-nyzUZv0R.js";import{B as Ie,C as Te}from"./ContentSection-f_AgJpSu.js";import{a as Re}from"./index-Dj7UNwDT.js";const Be=[];function Ce(s,e=!1){return C(s,new Map,"",Be)}function C(s,e,_,g,o=null){if(typeof s=="object"&&s!==null){var i=e.get(s);if(i!==void 0)return i;if(s instanceof Map)return new Map(s);if(s instanceof Set)return new Set(s);if(me(s)){var a=Array(s.length);e.set(s,a),o!==null&&e.set(o,a);for(var d=0;d<s.length;d+=1){var A=s[d];d in s&&(a[d]=C(A,e,_,g))}return a}if(pe(s)===ge){a={},e.set(s,a),o!==null&&e.set(o,a);for(var v in s)a[v]=C(s[v],e,_,g);return a}if(s instanceof Date)return structuredClone(s);if(typeof s.toJSON=="function")return C(s.toJSON(),e,_,g,s)}if(s instanceof EventTarget)return s;try{return structuredClone(s)}catch{return s}}const Le="_button_1quw5_4",Me="_xs_1quw5_9",Fe="_sm_1quw5_13",Oe="_md_1quw5_17",Ge="_lg_1quw5_21",Ue="_xl_1quw5_25",Ye="_primary_1quw5_30",Je="_secondary_1quw5_47",Ke="_outline_1quw5_59",Ve="_ghost_1quw5_72",We="_danger_1quw5_84",$e="_success_1quw5_94",Xe="_disabled_1quw5_105",Ze="_loading_1quw5_109",He="_spin_1quw5_1",T={button:Le,xs:Me,sm:Fe,md:Oe,lg:Ge,xl:Ue,primary:Ye,secondary:Je,outline:Ke,ghost:Ve,danger:We,success:$e,disabled:Xe,loading:Ze,spin:He};var Qe=z("<button><!></button>");function es(s,e){Y(e,!0);let _=m(e,"variant",3,"primary"),g=m(e,"size",3,"md"),o=m(e,"disabled",3,!1),i=m(e,"loading",3,!1),a=m(e,"type",3,"button"),d=ae(e,["$$slots","$$events","$$legacy","variant","size","disabled","loading","type","onclick","children"]);const A=()=>{let x=[T.button,T[g()],T[_()]];return o()&&x.push(T.disabled),i()&&x.push(T.loading),x.join(" ")};var v=Qe();ne(v,x=>({type:a(),class:x,disabled:o(),onclick:e.onclick,...d}),[A]);var S=b(v);he(S,()=>e.children??ye),p(s,v),J()}const ss="_form_1esnz_4",ts="_xs_1esnz_14",ns="_sm_1esnz_18",as="_md_1esnz_22",os="_lg_1esnz_26",ls="_xl_1esnz_30",rs="_input_1esnz_35",is="_textarea_1esnz_39",ds="_select_1esnz_43",cs="_checkbox_1esnz_66",_s="_radio_1esnz_84",vs="_error_1esnz_107",us="_success_1esnz_117",fs="_disabled_1esnz_127",bs="_readonly_1esnz_132",ms="_group_1esnz_138",ps="_label_1esnz_142",gs="_labelRequired_1esnz_148",hs="_hint_1esnz_154",ys="_errorText_1esnz_159",xs="_successText_1esnz_164",js="_fieldset_1esnz_169",zs="_legend_1esnz_174",ws="_inputGroup_1esnz_180",ks="_addon_1esnz_200",Ns="_addonLeft_1esnz_207",qs="_addonRight_1esnz_211",r={form:ss,xs:ts,sm:ns,md:as,lg:os,xl:ls,input:rs,textarea:is,select:ds,checkbox:cs,radio:_s,error:vs,success:us,disabled:fs,readonly:bs,group:ms,label:ps,labelRequired:gs,hint:hs,errorText:ys,successText:xs,fieldset:js,legend:zs,inputGroup:ws,addon:ks,addonLeft:Ns,addonRight:qs};var As=z("<input/>");function te(s,e){Y(e,!0);let _=m(e,"type",3,"text"),g=m(e,"size",3,"md"),o=m(e,"state",3,"default"),i=m(e,"disabled",3,!1),a=m(e,"readonly",3,!1),d=m(e,"placeholder",3,""),A=m(e,"value",15,""),v=m(e,"className",3,""),S=ae(e,["$$slots","$$events","$$legacy","type","size","state","disabled","readonly","placeholder","value","oninput","onchange","onkeydown","id","className"]);const x=()=>{let n=[r.form,r.input,r[g()]];return o()==="error"&&n.push(r.error),o()==="success"&&n.push(r.success),i()&&n.push(r.disabled),a()&&n.push(r.readonly),v()&&n.push(v()),n.join(" ")};var h=As();ne(h,n=>({type:_(),id:e.id,class:n,disabled:i(),readonly:a(),placeholder:d(),oninput:e.oninput,onchange:e.onchange,onkeydown:e.onkeydown,...S}),[x]),xe(h,A),p(s,h),J()}var Ss=z('<div class="no-accounts svelte-vjb730"><span class="warning-icon svelte-vjb730">‚ö†Ô∏è</span> <span>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤</span> <!></div>'),Ps=z("<option> </option>"),Ds=z('<select id="account-select"></select>'),Es=z('<div><span class="message-icon svelte-vjb730"> </span> <span class="message-text"> </span></div>'),Is=z("<span>–î–û–ë–ê–í–õ–ï–ù–ò–ï...</span>"),Ts=z('<span class="button-icon svelte-vjb730">‚ûï</span> <span>–î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê</span>',1),Rs=z('<span class="button-icon svelte-vjb730">‚¨ÖÔ∏è</span> <span>–ù–ê–ó–ê–î</span>',1),Bs=z('<div class="form-container svelte-vjb730"><div class="form-wrapper svelte-vjb730"><div class="form-header svelte-vjb730"><div class="form-icon svelte-vjb730">üë§</div> <h3 class="form-title svelte-vjb730">–ù–û–í–´–ô –ö–û–ù–¢–ê–ö–¢</h3></div> <div class="form-content svelte-vjb730"><div><label for="account-select"><span class="label-icon svelte-vjb730">üë§</span> <span class="label-text svelte-vjb730">–í–´–ë–ï–†–ò–¢–ï –ê–ö–ö–ê–£–ù–¢</span></label> <!></div> <div><label for="friend-name"><span class="label-icon svelte-vjb730">üìù</span> <span class="label-text svelte-vjb730">–ò–ú–Ø –î–†–£–ì–ê</span></label> <!></div> <div><label for="friend-nickname"><span class="label-icon svelte-vjb730">üè∑Ô∏è</span> <span class="label-text svelte-vjb730">–ù–ò–ö–ù–ï–ô–ú (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)</span></label> <!></div> <!> <div class="form-actions svelte-vjb730"><!> <!></div></div> <div class="form-info svelte-vjb730"><div class="info-item svelte-vjb730"><span class="info-icon svelte-vjb730">üí°</span> <span class="info-text">–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</span></div> <div class="info-item svelte-vjb730"><span class="info-icon svelte-vjb730">üîí</span> <span class="info-text">–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è</span></div></div></div></div>');function Fs(s,e){Y(e,!0);let _=P(""),g=P(""),o=P(""),i=P(!1),a=P(""),d=P("");const A=je(ze),v=H(()=>{var h;return Object.values(((h=A.state)==null?void 0:h.byId)||{})});we(()=>{t(v).length>0&&!t(o)&&l(o,t(v)[0].id,!0)});async function S(){if(!t(_).trim()){l(a,"–í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥—Ä—É–≥–∞"),l(d,"error");return}if(!t(o)){l(a,"–í—ã–±–µ—Ä–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç"),l(d,"error");return}l(i,!0),l(a,""),l(d,"");const h=new Promise((n,E)=>{setTimeout(()=>E(new Error("Timeout: –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—ã—Å–∏–ª–∞ 10 —Å–µ–∫—É–Ω–¥")),1e4)});try{D("üîÑ –ù–∞—á–∏–Ω–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∞...");const n=t(v).find(L=>L.id===t(o));D("üë§ –í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:",Ce(n)),n&&D("üîÑ –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é..."),se("üîÑ –î–æ–±–∞–≤–ª—è–µ–º –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ API...");const E={namePub:t(_).trim(),myAccId:t(o),friendPubKeyLibp2p:""};se("üìù –î–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∞:",E),await Promise.race([Re.friends.add({friends:[E],myAccId:t(o)}),h]),Pe("‚úÖ –î—Ä—É–≥ –¥–æ–±–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ"),l(a,`–î—Ä—É–≥ "${t(_)}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤`),l(d,"success"),l(_,""),l(g,"")}catch(n){De("‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞:",n),D("‚ùå –ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:",{message:n==null?void 0:n.message,stack:n==null?void 0:n.stack,name:n==null?void 0:n.name,error:n}),l(a,`–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥—Ä—É–≥–∞: ${(n==null?void 0:n.message)||String(n)}`),l(d,"error")}finally{D("üèÅ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞, —Å–±—Ä–æ—Å loading"),setTimeout(()=>{l(i,!1),D("üîÑ Loading —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ false")},100)}}function x(h){h.key==="Enter"&&!t(i)&&S()}Ie(s,{title:"ADD_FRIEND_BY_NAME",subtitle:"–î–û–ë–ê–í–ò–¢–¨_–î–†–£–ì–ê",pageName:"AddFriendByNamePage",footerVersion:"// ADD_FRIEND_BY_NAME_v0.1.0 //",footerStatus:"MODE: SIMPLE",children:n=>{Te(n,{title:"// –î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê //",description:"–ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",children:L=>{var K=Bs(),oe=b(K),le=y(b(oe),2),M=b(le),V=b(M),re=y(V,2);{var ie=c=>{var u=Ss(),f=y(b(u),4);Q(f,{get href(){return ee.ACCOUNTS_NEW},className:"create-account-link",children:(j,w)=>{var k=ke("–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç");p(j,k)},$$slots:{default:!0}}),p(c,u)},de=c=>{var u=Ds();Ne(u,21,()=>t(v),Ee,(f,j)=>{var w=Ps(),k={},N=b(w);R(I=>{k!==(k=t(j).id)&&(w.value=(w.__value=t(j).id)??""),U(N,`${t(j).namePub??""} (ID: ${I??""}...)`)},[()=>t(j).id.slice(0,8)]),p(f,w)}),R(()=>{q(u,1,`${r.form} ${r.select} ${r.md} form-select-styled`,"svelte-vjb730"),u.disabled=t(i)}),qe(u,()=>t(o),f=>l(o,f)),p(c,u)};G(re,c=>{t(v).length===0?c(ie):c(de,!1)})}var F=y(M,2),W=b(F),ce=y(W,2);te(ce,{id:"friend-name",onkeydown:x,placeholder:"–í–≤–µ–¥–∏—Ç–µ –∏–º—è...",get disabled(){return t(i)},className:"form-input-styled",get value(){return t(_)},set value(c){l(_,c,!0)}});var O=y(F,2),$=b(O),_e=y($,2);te(_e,{id:"friend-nickname",onkeydown:x,placeholder:"–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è...",get disabled(){return t(i)},className:"form-input-styled",get value(){return t(g)},set value(c){l(g,c,!0)}});var X=y(O,2);{var ve=c=>{var u=Es(),f=b(u),j=b(f),w=y(f,2),k=b(w);R(()=>{q(u,1,`message message-${t(d)??""}`,"svelte-vjb730"),U(j,t(d)==="success"?"‚úÖ":"‚ùå"),U(k,t(a))}),p(c,u)};G(X,c=>{t(a)&&c(ve)})}var ue=y(X,2),Z=b(ue);const fe=H(()=>t(i)||!t(_).trim());es(Z,{variant:"primary",size:"lg",onclick:S,get disabled(){return t(fe)},get loading(){return t(i)},children:u=>{var f=Ae(),j=Se(f);{var w=N=>{var I=Is();p(N,I)},k=N=>{var I=Ts();p(N,I)};G(j,N=>{t(i)?N(w):N(k,!1)})}p(u,f)},$$slots:{default:!0}});var be=y(Z,2);Q(be,{get href(){return ee.ADD_FRIEND},className:"action-button secondary",children:(c,u)=>{var f=Rs();p(c,f)},$$slots:{default:!0}}),R(()=>{q(M,1,B(r.group),"svelte-vjb730"),q(V,1,`${r.label} ${r.labelRequired}`,"svelte-vjb730"),q(F,1,B(r.group),"svelte-vjb730"),q(W,1,`${r.label} ${r.labelRequired}`,"svelte-vjb730"),q(O,1,B(r.group),"svelte-vjb730"),q($,1,B(r.label),"svelte-vjb730")}),p(L,K)},$$slots:{default:!0}})},$$slots:{default:!0}}),J()}export{Fs as default};
