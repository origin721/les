import{p as ae,O as te,n as le,P as ne,A as e,S as ce,D as q,E as t,k as pe,f as d,e as c,c as n,C as P,L as R,b as r,R as L,x,h as M,t as ie,u as oe,U as re,s as ve,y as S,z as de,B as fe}from"./index-B1MJr76t.js";import{B as ue,C as _e}from"./ContentSection-DFLcGUAB.js";import{a as me}from"./index-C1rOMx5S.js";function T(A,k,i){A.key==="Enter"&&!e(k)&&i()}var be=d('<div class="no-accounts svelte-3cppq0"><span class="warning-icon svelte-3cppq0">‚ö†Ô∏è</span> <span>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤</span> <!></div>'),qe=d('<option class="svelte-3cppq0"> </option>'),ge=d('<select id="account-select" class="form-select svelte-3cppq0"></select>'),he=d('<div><span class="message-icon svelte-3cppq0"> </span> <span class="message-text"> </span></div>'),ye=d('<span class="button-spinner svelte-3cppq0">‚ü≥</span> <span>–î–û–ë–ê–í–õ–ï–ù–ò–ï...</span>',1),xe=d('<span class="button-icon svelte-3cppq0">‚ûï</span> <span>–î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê</span>',1),Ae=d('<span class="button-icon svelte-3cppq0">‚¨ÖÔ∏è</span> <span>–ù–ê–ó–ê–î</span>',1),ke=d('<div class="form-container svelte-3cppq0"><div class="form-wrapper svelte-3cppq0"><div class="form-header svelte-3cppq0"><div class="form-icon svelte-3cppq0">üë§</div> <h3 class="form-title svelte-3cppq0">–ù–û–í–´–ô –ö–û–ù–¢–ê–ö–¢</h3></div> <div class="form-content svelte-3cppq0"><div class="input-group svelte-3cppq0"><label for="account-select" class="input-label svelte-3cppq0"><span class="label-icon svelte-3cppq0">üë§</span> <span class="label-text svelte-3cppq0">–í–´–ë–ï–†–ò–¢–ï –ê–ö–ö–ê–£–ù–¢ *</span></label> <!></div> <div class="input-group svelte-3cppq0"><label for="friend-name" class="input-label svelte-3cppq0"><span class="label-icon svelte-3cppq0">üìù</span> <span class="label-text svelte-3cppq0">–ò–ú–Ø –î–†–£–ì–ê *</span></label> <input id="friend-name" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è..." class="form-input svelte-3cppq0" autocomplete="off"/></div> <div class="input-group svelte-3cppq0"><label for="friend-nickname" class="input-label svelte-3cppq0"><span class="label-icon svelte-3cppq0">üè∑Ô∏è</span> <span class="label-text svelte-3cppq0">–ù–ò–ö–ù–ï–ô–ú (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)</span></label> <input id="friend-nickname" type="text" placeholder="–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è..." class="form-input svelte-3cppq0" autocomplete="off"/></div> <!> <div class="form-actions svelte-3cppq0"><button class="action-button primary svelte-3cppq0"><!></button> <!></div></div> <div class="form-info svelte-3cppq0"><div class="info-item svelte-3cppq0"><span class="info-icon svelte-3cppq0">üí°</span> <span class="info-text">–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</span></div> <div class="info-item svelte-3cppq0"><span class="info-icon svelte-3cppq0">üîí</span> <span class="info-text">–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è</span></div></div></div></div>');function Ee(A,k){ae(k,!0);let i=q(""),N=q(""),f=q(""),o=q(!1),u=q(""),_=q("");const U=te(le),g=ce(()=>{var a;return Object.values(((a=U.state)==null?void 0:a.byId)||{})});ne(()=>{e(g).length>0&&!e(f)&&t(f,e(g)[0].id,!0)});async function $(){if(!e(i).trim()){t(u,"–í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥—Ä—É–≥–∞"),t(_,"error");return}if(!e(f)){t(u,"–í—ã–±–µ—Ä–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç"),t(_,"error");return}t(o,!0),t(u,""),t(_,"");try{console.log("üîÑ –ù–∞—á–∏–Ω–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∞...");const a=e(g).find(I=>I.id===e(f));console.log("üë§ –í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:",a),a&&console.log("üîÑ –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é..."),console.log("üîÑ –î–æ–±–∞–≤–ª—è–µ–º –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ API...");const h={namePub:e(i).trim(),myAccId:e(f),friendPubKeyLibp2p:""};console.log("üìù –î–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∞:",h),await me.friends.add([h]),console.log("‚úÖ –î—Ä—É–≥ –¥–æ–±–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ"),t(u,`–î—Ä—É–≥ "${e(i)}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤`),t(_,"success"),t(i,""),t(N,"")}catch(a){console.error("‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞:",a),console.error("‚ùå –ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:",{message:a==null?void 0:a.message,stack:a==null?void 0:a.stack,name:a==null?void 0:a.name,error:a}),t(u,`–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥—Ä—É–≥–∞: ${(a==null?void 0:a.message)||String(a)}`),t(_,"error")}finally{console.log("üèÅ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞"),t(o,!1)}}ue(A,{title:"ADD_FRIEND_BY_NAME",subtitle:"–î–û–ë–ê–í–õ–ï–ù–ò–ï_–ö–û–ù–¢–ê–ö–¢–ê_–ü–û_–ò–ú–ï–ù–ò",pageName:"AddFriendByNamePage",footerVersion:"// ADD_FRIEND_BY_NAME_v0.1.0 //",footerStatus:"MODE: SIMPLE",children:h=>{_e(h,{title:"// –î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê –ü–û –ò–ú–ï–ù–ò //",description:"–ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",children:K=>{var w=ke(),Y=n(w),j=c(n(Y),2),B=n(j),z=c(n(B),2);{var V=s=>{var l=be(),p=c(n(l),4);R(p,{get href(){return L.ACCOUNTS_NEW},className:"create-account-link",children:(v,m)=>{var b=ie("–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç");r(v,b)},$$slots:{default:!0}}),r(s,l)},W=s=>{var l=ge();oe(l,21,()=>e(g),fe,(p,v)=>{var m=qe(),b={},ee=n(m);x(se=>{b!==(b=e(v).id)&&(m.value=(m.__value=e(v).id)??""),S(ee,`${e(v).namePub??""} (ID: ${se??""}...)`)},[()=>e(v).id.slice(0,8)]),r(p,m)}),x(()=>l.disabled=e(o)),re(l,()=>e(f),p=>t(f,p)),r(s,l)};P(z,s=>{e(g).length===0?s(V):s(W,!1)})}var F=c(B,2),D=c(n(F),2);D.__keydown=[T,o,$];var C=c(F,2),E=c(n(C),2);E.__keydown=[T,o,$];var O=c(C,2);{var G=s=>{var l=he(),p=n(l),v=n(p),m=c(p,2),b=n(m);x(()=>{ve(l,1,`message message-${e(_)??""}`,"svelte-3cppq0"),S(v,e(_)==="success"?"‚úÖ":"‚ùå"),S(b,e(u))}),r(s,l)};P(O,s=>{e(u)&&s(G)})}var H=c(O,2),y=n(H);y.__click=$;var J=n(y);{var Q=s=>{var l=ye();r(s,l)},X=s=>{var l=xe();r(s,l)};P(J,s=>{e(o)?s(Q):s(X,!1)})}var Z=c(y,2);R(Z,{get href(){return L.ADD_FRIEND},className:"action-button secondary",children:(s,l)=>{var p=Ae();r(s,p)},$$slots:{default:!0}}),x(s=>{D.disabled=e(o),E.disabled=e(o),y.disabled=s},[()=>e(o)||!e(i).trim()]),M(D,()=>e(i),s=>t(i,s)),M(E,()=>e(N),s=>t(N,s)),r(K,w)},$$slots:{default:!0}})},$$slots:{default:!0}}),pe()}de(["keydown","click"]);export{Ee as default};
