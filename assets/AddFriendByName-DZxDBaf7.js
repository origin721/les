import{p as x,f as p,m as v,c as s,s as Z,n as G,t as I,b as D,C as f,a as g,Y as W,i as C,I as q,B as Q,L as $,H as ee,l as n,X as ae,d as z,E as J,Z as E,J as te,g as K,_ as ne,q as se,$ as re,A as Y,k as T,j as y,a0 as oe,R as ie}from"./index-B6ZDc0Es.js";import{B as ce,C as le}from"./ContentSection-CEBmsW03.js";import{I as de}from"./Input-Dr_LNHB4.js";import{s as ve}from"./index-CHDu6Xdh.js";var me=p('<div><div class="form-card-header svelte-14r9mkl"><div class="form-card-icon svelte-14r9mkl"> </div> <h3 class="form-card-title svelte-14r9mkl"> </h3></div> <div class="form-card-content svelte-14r9mkl"><!></div></div>');function ue(m,a){let r=x(a,"icon",3,"üìù"),c=x(a,"className",3,"");var o=me(),e=s(o),t=s(e),l=s(t),_=v(t,2),d=s(_),h=v(e,2),b=s(h);Z(b,()=>a.children??G),I(()=>{D(o,1,`form-card ${c()??""}`,"svelte-14r9mkl"),f(l,r()),f(d,a.title)}),g(m,o)}var fe=p('<div><span class="message-icon svelte-7miv88"> </span> <span class="message-text"> </span></div>');function ge(m,a){var r=W(),c=C(r);{var o=e=>{var t=fe(),l=s(t),_=s(l),d=v(l,2),h=s(d);I(()=>{D(t,1,`form-message form-message-${a.type??""}`,"svelte-7miv88"),f(_,a.type==="success"?"‚úÖ":"‚ùå"),f(h,a.message)}),g(e,t)};q(c,e=>{a.message&&a.type&&e(o)})}g(m,r)}var _e=p("<span> </span>"),ye=p('<span class="button-icon svelte-1e5tsq"> </span> <span> </span>',1),he=p('<span class="button-icon svelte-1e5tsq"> </span> <span> </span>',1),pe=p('<div class="form-actions svelte-1e5tsq"><!> <!></div>');function be(m,a){let r=x(a,"primaryLoadingText",3,"–ó–ê–ì–†–£–ó–ö–ê..."),c=x(a,"primaryIcon",3,"‚úì"),o=x(a,"secondaryIcon",3,"‚¨ÖÔ∏è");var e=pe(),t=s(e);Q(t,{variant:"primary",size:"lg",get onclick(){return a.onPrimaryClick},get disabled(){return a.disabled},get loading(){return a.loading},children:h=>{var b=W(),A=C(b);{var k=i=>{var u=_e(),w=s(u);I(()=>f(w,r())),g(i,u)},N=i=>{var u=ye(),w=C(u),P=s(w),F=v(w,2),S=s(F);I(()=>{f(P,c()),f(S,a.primaryText)}),g(i,u)};q(A,i=>{a.loading?i(k):i(N,!1)})}g(h,b)},$$slots:{default:!0}});var l=v(t,2);{var _=d=>{$(d,{get href(){return a.secondaryHref},className:"action-button secondary",children:(h,b)=>{var A=he(),k=C(A),N=s(k),i=v(k,2),u=s(i);I(()=>{f(N,o()),f(u,a.secondaryText)}),g(h,A)},$$slots:{default:!0}})};q(l,d=>{a.secondaryText&&a.secondaryHref&&d(_)})}g(m,e)}var xe=p('<div class="info-item svelte-1d98owt"><span class="info-icon svelte-1d98owt"> </span> <span class="info-text"> </span></div>'),Ae=p('<div class="form-info svelte-1d98owt"></div>');function Ie(m,a){var r=Ae();ee(r,21,()=>a.items,ae,(c,o)=>{var e=xe(),t=s(e),l=s(t),_=v(t,2),d=s(_);I(()=>{f(l,n(o).icon),f(d,n(o).text)}),g(c,e)}),g(m,r)}var ke=p('<div><label><span class="label-icon svelte-10ttpwy"> </span> <span class="label-text svelte-10ttpwy"> </span></label> <!></div>');function j(m,a){z(a,!0);let r=x(a,"icon",3,"üìù"),c=x(a,"placeholder",3,""),o=x(a,"required",3,!1),e=x(a,"disabled",3,!1);var t=ke(),l=s(t),_=s(l),d=s(_),h=v(_,2),b=s(h),A=v(l,2);de(A,{get id(){return a.id},get value(){return a.value},get onchange(){return a.onchange},get onkeydown(){return a.onkeydown},get placeholder(){return c()},get disabled(){return e()}}),I(()=>{D(t,1,J(E.group),"svelte-10ttpwy"),te(l,"for",a.id),D(l,1,`${E.label} ${o()?E.labelRequired:""}`,"svelte-10ttpwy"),f(d,r()),f(b,a.label)}),g(m,t),K()}async function Te(m,a){const{friendName:r,selectedAccountId:c}=m;if(!r.trim())return{success:!1,message:"–í–≤–µ–¥–∏—Ç–µ –∏–º—è –¥—Ä—É–≥–∞",messageType:"error"};if(!c)return{success:!1,message:"–í—ã–±–µ—Ä–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç",messageType:"error"};const o=new Promise((e,t)=>{setTimeout(()=>t(new Error("Timeout: –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—ã—Å–∏–ª–∞ 10 —Å–µ–∫—É–Ω–¥")),1e4)});try{console.log("üîÑ –ù–∞—á–∏–Ω–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∞...");const e=a.find(l=>l.id===c);console.log("üë§ –í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:",e),e&&console.log("üîÑ –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é..."),console.log("üîÑ –î–æ–±–∞–≤–ª—è–µ–º –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ API...");const t={namePub:r.trim(),myAccId:c,friendPubKeyLibp2p:""};return console.log("üìù –î–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∞:",t),await Promise.race([ve.friends.add({friends:[t],myAccId:c}),o]),console.log("‚úÖ –î—Ä—É–≥ –¥–æ–±–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ"),{success:!0,message:`–î—Ä—É–≥ "${r}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤`,messageType:"success"}}catch(e){return console.error("‚ùå –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞:",e),console.error("‚ùå –ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:",{message:e==null?void 0:e.message,stack:e==null?void 0:e.stack,name:e==null?void 0:e.name,error:e}),{success:!1,message:`–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥—Ä—É–≥–∞: ${(e==null?void 0:e.message)||String(e)}`,messageType:"error"}}}const Ne="_formContainer_1583c_3",we={formContainer:Ne};var Fe=p("<!> <!> <!> <!> <!> <!>",1),Ce=p("<div><!></div>");function Be(m,a){z(a,!0);let r=T(""),c=T(""),o=T(""),e=T(!1),t=T(""),l=T("");const _=ne(se),d=Y(()=>{var i;return Object.values(((i=_.state)==null?void 0:i.byId)||{})});re(()=>{n(d).length>0&&!n(o)&&y(o,n(d)[0].id,!0)});const h=[{icon:"üí°",text:"–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"},{icon:"üîí",text:"–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è"}];async function b(){y(e,!0),y(t,""),y(l,"");const i={friendName:n(r),friendNickname:n(c),selectedAccountId:n(o)};try{const u=await Te(i,n(d));y(t,u.message,!0),y(l,u.messageType,!0),u.success&&(y(r,""),y(c,""))}finally{setTimeout(()=>{y(e,!1)},100)}}function A(i){y(o,i,!0)}function k(i){y(r,i,!0)}function N(i){y(c,i,!0)}ce(m,{title:"ADD_FRIEND_BY_NAME",subtitle:"–î–û–ë–ê–í–ò–¢–¨_–î–†–£–ì–ê",pageName:"AddFriendByNamePage",footerVersion:"// ADD_FRIEND_BY_NAME_v0.1.0 //",footerStatus:"MODE: SIMPLE",children:u=>{le(u,{title:"// –î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê //",description:"–ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",children:P=>{var F=Ce(),S=s(F);ue(S,{icon:"üë§",title:"–ù–û–í–´–ô –ö–û–ù–¢–ê–ö–¢",children:U=>{var B=Fe(),L=C(B);oe(L,{get accounts(){return n(d)},get selectedAccountId(){return n(o)},get loading(){return n(e)},onchange:A});var R=v(L,2);j(R,{id:"friend-name",label:"–ò–ú–Ø –î–†–£–ì–ê",icon:"üìù",get value(){return n(r)},placeholder:"–í–≤–µ–¥–∏—Ç–µ –∏–º—è...",required:!0,get disabled(){return n(e)},onchange:k,onkeydown});var M=v(R,2);j(M,{id:"friend-nickname",label:"–ù–ò–ö–ù–ï–ô–ú (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)",icon:"üè∑Ô∏è",get value(){return n(c)},placeholder:"–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è...",get disabled(){return n(e)},onchange:N,onkeydown});var H=v(M,2);ge(H,{get message(){return n(t)},get type(){return n(l)}});var O=v(H,2);const V=Y(()=>n(e)||!n(r).trim());be(O,{primaryText:"–î–û–ë–ê–í–ò–¢–¨ –î–†–£–ì–ê",primaryLoadingText:"–î–û–ë–ê–í–õ–ï–ù–ò–ï...",primaryIcon:"‚ûï",secondaryText:"–ù–ê–ó–ê–î",secondaryIcon:"‚¨ÖÔ∏è",get secondaryHref(){return ie.ADD_FRIEND},get loading(){return n(e)},get disabled(){return n(V)},onPrimaryClick:b});var X=v(O,2);Ie(X,{get items(){return h}}),g(U,B)},$$slots:{default:!0}}),I(()=>D(F,1,J(we.formContainer))),g(P,F)},$$slots:{default:!0}})},$$slots:{default:!0}}),K()}export{Be as default};
