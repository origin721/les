import{p as Re,s as L,h as $e,o as ze,j as v,l as e,f,n as s,L as Te,t as I,d,m as Y,O as k,y as i,q as je,E as M,Q as Ue,v as p,e as De,W as Qe,Y as We,k as Ce,ac as Ye,R as be,_ as qe,G as a,U as r,z as w,S as y,I as Fe,a0 as Ge,a2 as Xe}from"./index-C1Ddg1FK.js";import{I as xe}from"./Input-CpWDqL4F.js";import{A as Je}from"./AnimatedTitle-D6BWqN8F.js";import{P as Ke}from"./PageFooter-Bd4C9483.js";const Ve="_chatPage_1segj_37",Ze="_sidebar_1segj_42",et="_sidebarHidden_1segj_51",tt="_sidebarHeader_1segj_55",at="_sidebarHeaderTop_1segj_59",st="_sidebarHeaderBottom_1segj_65",nt="_sidebarTitle_1segj_72",rt="_homeLink_1segj_78",it="_chatsList_1segj_94",ot="_chatItem_1segj_99",dt="_chatItemActive_1segj_117",ct="_chatInfo_1segj_122",_t="_chatName_1segj_127",vt="_chatLastMessage_1segj_133",lt="_chatMeta_1segj_147",ht="_chatTime_1segj_154",gt="_unreadBadge_1segj_165",mt="_emptyState_1segj_176",ut="_chatArea_1segj_186",pt="_chatAreaHidden_1segj_193",ft="_chatHeader_1segj_197",$t="_chatHeaderTitle_1segj_206",Tt="_chatMessages_1segj_212",jt="_messagesContainer_1segj_220",Ct="_messageItem_1segj_227",bt="_messageOwn_1segj_234",xt="_messageOther_1segj_238",Ht="_messageHeader_1segj_242",St="_messageAuthor_1segj_252",wt="_messageTime_1segj_257",Pt="_messageContent_1segj_262",It="_messagePlaceholder_1segj_311",Mt="_chatInput_1segj_321",Ot="_noChatSelected_1segj_329",At="_noChatSelectedTitle_1segj_339",kt="_noChatSelectedText_1segj_344",Lt="_chatConnecting_1segj_423",yt="_connectingContent_1segj_429",Et="_connectingSpinner_1segj_441",Bt="_spinner_1segj_448",Nt="_connectingTitle_1segj_467",Rt="_connectingText_1segj_477",zt="_connectingSubtext_1segj_484",t={chatPage:Ve,sidebar:Ze,sidebarHidden:et,sidebarHeader:tt,sidebarHeaderTop:at,sidebarHeaderBottom:st,sidebarTitle:nt,homeLink:rt,chatsList:it,chatItem:ot,chatItemActive:dt,chatInfo:ct,chatName:_t,chatLastMessage:vt,chatMeta:lt,chatTime:ht,unreadBadge:gt,emptyState:mt,chatArea:ut,chatAreaHidden:pt,chatHeader:ft,chatHeaderTitle:$t,chatMessages:Tt,messagesContainer:jt,messageItem:Ct,messageOwn:bt,messageOther:xt,messageHeader:Ht,messageAuthor:St,messageTime:wt,messageContent:Pt,messagePlaceholder:It,chatInput:Mt,noChatSelected:Ot,noChatSelectedTitle:At,noChatSelectedText:kt,chatConnecting:Lt,connectingContent:yt,connectingSpinner:Et,spinner:Bt,connectingTitle:Nt,connectingText:Rt,connectingSubtext:zt};var Ut=(ne,q,F)=>q(e(F).id),Dt=f("<div> </div>"),Qt=f("<div> </div>"),Wt=f("<div> </div>"),Yt=f("<button><div><div> </div> <!></div> <div><!> <!></div></button>"),qt=f("<div><p>–ù–µ—Ç —á–∞—Ç–æ–≤</p> <!></div>"),Ft=f("<div><div><span> </span> <span> </span></div> <div> </div></div>"),Gt=f("<div></div>"),Xt=f("<div><p> </p> <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è...</p></div>"),Jt=f("<div><!> <h3> </h3> <!></div> <div><!></div> <div><!> <!></div>",1),Kt=f("<div><!> <h3>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</h3></div>"),Vt=f("<div><!> <div><div><div></div></div> <h3>–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</h3> <p> </p> <p>–≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥</p></div></div>"),Zt=f("<div><h3>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</h3> <p>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π</p></div>"),ea=f("<div><!> <div><!> <!></div></div>"),ta=f('<div class="chat-container" data-widget-name="ChatRoomsPage"><header class="chat-header"><!></header> <main><div><div><div><!></div> <div><h2>–ß–∞—Ç—ã</h2> <!></div></div> <div><!> <!></div></div> <div><!></div></main> <!> <!></div>');function ia(ne,q){Re(q,!0);const[F,He]=Qe(),Se=()=>Ge(Xe,"$theme",F);let E=L($e([])),C=L(null),U=L(!1),B=L(""),O=L(!1),N=L(!0),re=L($e({}));ze(()=>{const n=()=>{v(O,window.innerWidth<768),e(O)||v(N,!0)};n(),window.addEventListener("resize",n);const c=new URLSearchParams(window.location.search).get("room_id");return c&&(v(C,c,!0),e(O)&&v(N,!1)),v(E,[{id:"1",name:"–û–±—â–∏–π —á–∞—Ç",lastMessage:"–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º!",lastTime:"10:30",unreadCount:3},{id:"2",name:"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞",lastMessage:"–ì–æ—Ç–æ–≤ –Ω–æ–≤—ã–π —Ä–µ–ª–∏–∑",lastTime:"09:15",unreadCount:1},{id:"3",name:"–ü–æ–¥–¥–µ—Ä–∂–∫–∞",lastMessage:"–ö–∞–∫ –¥–µ–ª–∞?",lastTime:"–≤—á–µ—Ä–∞"}],!0),v(re,{1:[{id:"1",author:"–ê–ª–µ–∫—Å",content:"–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º! –ö–∞–∫ –¥–µ–ª–∞?",time:"10:00",isOwn:!1},{id:"2",author:"–í—ã",content:"–ü—Ä–∏–≤–µ—Ç! –í—Å—ë –æ—Ç–ª–∏—á–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏",time:"10:15",isOwn:!0},{id:"3",author:"–ú–∞—Ä–∏—è",content:"–ö—Ä—É—Ç–æ! –ê —á—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–ª–∞–µ—Ç–µ?",time:"10:20",isOwn:!1},{id:"4",author:"–í—ã",content:"–£–ª—É—á—à–∞–µ–º —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —á–∞—Ç–æ–≤, –¥–æ–±–∞–≤–ª—è–µ–º E2E —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ",time:"10:25",isOwn:!0},{id:"5",author:"–ê–ª–µ–∫—Å",content:"–ó–≤—É—á–∏—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –ö–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —Ä–µ–ª–∏–∑?",time:"10:30",isOwn:!1}],2:[{id:"1",author:"–î–µ–≤-—Ç–∏–º",content:"–ì–æ—Ç–æ–≤ –Ω–æ–≤—ã–π —Ä–µ–ª–∏–∑ v2.1.0! üöÄ",time:"09:00",isOwn:!1},{id:"2",author:"–í—ã",content:"–û—Ç–ª–∏—á–Ω–æ! –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏?",time:"09:10",isOwn:!0},{id:"3",author:"–î–µ–≤-—Ç–∏–º",content:"–î–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–µ–º, —É–ª—É—á—à–∏–ª–∏ UI/UX –∏ –∏—Å–ø—Ä–∞–≤–∏–ª–∏ –±–∞–≥–∏",time:"09:15",isOwn:!1}],3:[{id:"1",author:"–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞",content:"–ö–∞–∫ –¥–µ–ª–∞? –ï—Å—Ç—å –ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã?",time:"–≤—á–µ—Ä–∞",isOwn:!1},{id:"2",author:"–í—ã",content:"–ü–æ–∫–∞ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, —Å–ø–∞—Å–∏–±–æ!",time:"–≤—á–µ—Ä–∞",isOwn:!0}]},!0),()=>{window.removeEventListener("resize",n)}});function ie(n){v(C,n,!0),Ye([["room_id",n]]),e(O)&&v(N,!1)}function oe(){if(!e(B).trim())return;const n={id:Date.now().toString(),name:e(B).trim()};v(E,[n,...e(E)],!0),ie(n.id),v(B,""),v(U,!1)}function de(){if(e(O)){v(N,!0),v(C,null);const n=new URL(window.location.href);n.searchParams.delete("room_id"),window.history.replaceState({},"",n.toString())}}let G=Y(()=>e(C)?e(E).find(n=>n.id===e(C)):null),ce=Y(()=>e(C)?e(re)[e(C)]||[]:[]);var X=ta(),_e=s(X),we=s(_e);Je(we,{opacity:.1,title:"SECURE_CHAT_SYSTEM",subtitle:"–°–ò–°–¢–ï–ú–ê_–ë–ï–ó–û–ü–ê–°–ù–´–•_–°–û–û–ë–©–ï–ù–ò–ô",statusText:"–°–ò–°–¢–ï–ú–ê –ê–ö–¢–ò–í–ù–ê",className:"chat-title"});var J=i(_e,2),K=s(J),V=s(K),Z=s(V),Pe=s(Z);{let n=Y(()=>"?#"+be.HOME);Te(Pe,{get href(){return e(n)},get className(){return t.homeLink},children:(o,c)=>{var l=I("üè† –ì–ª–∞–≤–Ω–∞—è");d(o,l)},$$slots:{default:!0}})}var ve=i(Z,2),le=s(ve),Ie=i(le,2);{let n=Y(()=>"#"+be.CHAT_ROOMS_ADD);Te(Ie,{get href(){return e(n)},className:"inline-block",children:(o,c)=>{k(o,{size:"sm",children:(l,b)=>{var m=I("+ –î–æ–±–∞–≤–∏—Ç—å");d(l,m)},$$slots:{default:!0}})},$$slots:{default:!0}})}var he=i(V,2),ge=s(he);je(ge,17,()=>e(E),n=>n.id,(n,o)=>{var c=Yt();c.__click=[Ut,ie,o];var l=s(c),b=s(l),m=s(b),x=i(b,2);{var h=_=>{var u=Dt(),P=s(u);p(()=>{a(u,1,r(t.chatLastMessage)),w(P,e(o).lastMessage)}),d(_,u)};M(x,_=>{e(o).lastMessage&&_(h)})}var H=i(l,2),S=s(H);{var j=_=>{var u=Qt(),P=s(u);p(()=>{a(u,1,r(t.chatTime)),w(P,e(o).lastTime)}),d(_,u)};M(S,_=>{e(o).lastTime&&_(j)})}var D=i(S,2);{var R=_=>{var u=Wt(),P=s(u);p(()=>{a(u,1,r(t.unreadBadge)),w(P,e(o).unreadCount)}),d(_,u)};M(D,_=>{e(o).unreadCount&&_(R)})}p(()=>{a(c,1,`${t.chatItem} ${e(C)===e(o).id?t.chatItemActive:""}`),a(l,1,r(t.chatInfo)),a(b,1,r(t.chatName)),w(m,e(o).name),a(H,1,r(t.chatMeta))}),d(n,c)});var Me=i(ge,2);{var Oe=n=>{var o=qt(),c=i(s(o),2);k(c,{onclick:()=>v(U,!0),children:(l,b)=>{var m=I("–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π —á–∞—Ç");d(l,m)},$$slots:{default:!0}}),p(()=>a(o,1,r(t.emptyState))),d(n,o)};M(Me,n=>{e(E).length===0&&n(Oe)})}var me=i(K,2),Ae=s(me);{var ke=n=>{var o=We(),c=Ce(o);{var l=m=>{var x=Jt(),h=Ce(x),H=s(h);{var S=g=>{k(g,{onclick:de,variant:"ghost",size:"sm",children:($,T)=>{var A=I("‚Üê –ù–∞–∑–∞–¥");d($,A)},$$slots:{default:!0}})};M(H,g=>{e(O)&&g(S)})}var j=i(H,2),D=s(j),R=i(j,2);k(R,{variant:"ghost",size:"sm",children:(g,$)=>{var T=I("‚öôÔ∏è");d(g,T)},$$slots:{default:!0}});var _=i(h,2),u=s(_);{var P=g=>{var $=Gt();je($,21,()=>e(ce),T=>T.id,(T,A)=>{var te=Ft(),ae=s(te),se=s(ae),Ee=s(se),pe=i(se,2),Be=s(pe),fe=i(ae,2),Ne=s(fe);p(()=>{a(te,1,`${t.messageItem} ${e(A).isOwn?t.messageOwn:t.messageOther}`),a(ae,1,r(t.messageHeader)),a(se,1,r(t.messageAuthor)),w(Ee,e(A).author),a(pe,1,r(t.messageTime)),w(Be,e(A).time),a(fe,1,r(t.messageContent)),w(Ne,e(A).content)}),d(T,te)}),p(()=>a($,1,r(t.messagesContainer))),d(g,$)},Q=g=>{var $=Xt(),T=s($),A=s(T);p(()=>{a($,1,r(t.messagePlaceholder)),w(A,`–ß–∞—Ç "${e(G).name??""}"`)}),d(g,$)};M(u,g=>{e(ce).length>0?g(P):g(Q,!1)})}var z=i(_,2),W=s(z);xe(W,{placeholder:"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."});var ee=i(W,2);k(ee,{children:(g,$)=>{var T=I("–û—Ç–ø—Ä–∞–≤–∏—Ç—å");d(g,T)},$$slots:{default:!0}}),p(()=>{a(h,1,r(t.chatHeader)),a(j,1,r(t.chatHeaderTitle)),w(D,e(G).name),a(_,1,r(t.chatMessages)),a(z,1,r(t.chatInput))}),d(m,x)},b=m=>{var x=Vt(),h=s(x);{var H=Q=>{var z=Kt(),W=s(z);k(W,{onclick:de,variant:"ghost",size:"sm",children:(g,$)=>{var T=I("‚Üê –ù–∞–∑–∞–¥");d(g,T)},$$slots:{default:!0}});var ee=i(W,2);p(()=>{a(z,1,r(t.chatHeader)),a(ee,1,r(t.chatHeaderTitle))}),d(Q,z)};M(h,Q=>{e(O)&&Q(H)})}var S=i(h,2),j=s(S),D=s(j),R=i(j,2),_=i(R,2),u=s(_),P=i(_,2);p(()=>{a(x,1,r(t.chatConnecting)),a(S,1,r(t.connectingContent)),a(j,1,r(t.connectingSpinner)),a(D,1,r(t.spinner)),a(R,1,r(t.connectingTitle)),a(_,1,r(t.connectingText)),w(u,`–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ ${e(C)??""}...`),a(P,1,r(t.connectingSubtext))}),d(m,x)};M(c,m=>{e(G)?m(l):m(b,!1)})}d(n,o)},Le=n=>{var o=Zt(),c=s(o),l=i(c,2);p(()=>{a(o,1,r(t.noChatSelected)),a(c,1,r(t.noChatSelectedTitle)),a(l,1,r(t.noChatSelectedText))}),d(n,o)};M(Ae,n=>{e(C)?n(ke):n(Le,!1)})}var ue=i(J,2);Ke(ue,{});var ye=i(ue,2);Ue(ye,{get open(){return e(U)},onClose:()=>v(U,!1),title:"–ù–æ–≤—ã–π —á–∞—Ç",children:(n,o)=>{var c=ea(),l=s(c);xe(l,{placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞",onkeydown:h=>h.key==="Enter"&&oe(),get value(){return e(B)},set value(h){v(B,h,!0)}});var b=i(l,2),m=s(b);{let h=Y(()=>!e(B).trim());k(m,{onclick:oe,get disabled(){return e(h)},children:(H,S)=>{var j=I("–°–æ–∑–¥–∞—Ç—å");d(H,j)},$$slots:{default:!0}})}var x=i(m,2);k(x,{onclick:()=>v(U,!1),variant:"ghost",children:(h,H)=>{var S=I("–û—Ç–º–µ–Ω–∞");d(h,S)},$$slots:{default:!0}}),p(()=>{a(c,1,`${y.flexCol} ${y.gap4}`),a(b,1,`${y.flex} ${y.gap2} ${y.justifyEnd}`)}),d(n,c)},$$slots:{default:!0}}),p(()=>{Fe(X,"data-theme",Se()),a(J,1,`${t.chatPage} ${y.flex} ${y.hScreen}`),a(K,1,`${t.sidebar} ${e(N)?"":t.sidebarHidden}`),a(V,1,r(t.sidebarHeader)),a(Z,1,r(t.sidebarHeaderTop)),a(ve,1,r(t.sidebarHeaderBottom)),a(le,1,r(t.sidebarTitle)),a(he,1,r(t.chatsList)),a(me,1,`${t.chatArea} ${e(O)&&e(N)?t.chatAreaHidden:""}`)}),d(ne,X),De(),He()}qe(["click"]);export{ia as default};
