<script lang="ts">
    import { Link, ROUTES } from "../../../routing";
    import styles from "./DocsPage.module.css";

    let currentSection = $state("overview");

    const sections = [
        { id: "overview", title: "–û–ë–ó–û–†", icon: "üìã" },
        { id: "encryption", title: "–®–ò–§–†–û–í–ê–ù–ò–ï", icon: "üîê" },
        { id: "users", title: "–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò", icon: "üë§" },
        { id: "roadmap", title: "–ü–õ–ê–ù", icon: "üó∫Ô∏è" },
        { id: "security", title: "–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨", icon: "üõ°Ô∏è" }
    ];

    function setSection(sectionId: string) {
        currentSection = sectionId;
    }
</script>

<div class={styles["docs-container"]} data-widget-name="DocsPage">
    <header class={styles["docs-header"]}>
        <div class="back-link-container z-10">
            <Link href={ROUTES.HOME} className={styles["back-link"]}>
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
                <span>AUTH.SYS</span>
            </Link>
        </div>
        
        <div class={styles["animated-title-container"]}>
            <div class={styles["matrix-rain"]}>
                {#each Array(20) as _, i}
                    <div class={styles["matrix-column"]} style="animation-delay: {i * 0.1}s;">
                        {#each Array(10) as _, j}
                            <span class={styles["matrix-char"]} style="animation-delay: {(i * 0.1) + (j * 0.05)}s;">
                                {String.fromCharCode(65 + Math.floor(Math.random() * 26))}
                            </span>
                        {/each}
                    </div>
                {/each}
            </div>
            
            <h1 class={styles["animated-title"]}>
                <span class="{styles['title-word']} {styles['glitch-word']}" style="animation-delay: 0s;">–ö–ê–ö</span>
                <span class={styles["title-separator"]}>_</span>
                <span class="{styles['title-word']} {styles['glitch-word']}" style="animation-delay: 0.3s;">–≠–¢–û</span>
                <span class={styles["title-separator"]}>_</span>
                <span class="{styles['title-word']} {styles['glitch-word']}" style="animation-delay: 0.6s;">–†–ê–ë–û–¢–ê–ï–¢</span>
                <span class={styles["title-question"]}>?</span>
            </h1>
            
            <div class={styles["subtitle"]}>
                <span class={styles["typing-text"]}>–°–ò–°–¢–ï–ú–ê_–ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò_–ò_–®–ò–§–†–û–í–ê–ù–ò–Ø</span>
                <span class={styles["cursor"]}>‚ñà</span>
            </div>
            
            <div class={styles["question-animation"]}>
                <div class={styles["question-mark"]}>?</div>
                <div class={styles["question-mark"]}>?</div>
                <div class={styles["question-mark"]}>?</div>
            </div>
        </div>
    </header>

    <nav class={styles["docs-nav"]}>
        {#each sections as section}
            <button 
                class="{styles['nav-item']} {currentSection === section.id ? styles.active : ''}"
                onclick={() => setSection(section.id)}
            >
                <span class={styles["nav-icon"]}>{section.icon}</span>
                <span class={styles["nav-text"]}>{section.title}</span>
            </button>
        {/each}
    </nav>

    <main class={styles["docs-content"]}>
        {#if currentSection === "overview"}
            <section class={styles["content-section"]}>
                <h2 class={styles["section-title"]}>// –û–ë–ó–û–† –°–ò–°–¢–ï–ú–´ //</h2>
                <div class={styles["info-grid"]}>
                    <div class={styles["info-card"]}>
                        <h3>–°–¢–ê–¢–£–° –†–ê–ó–†–ê–ë–û–¢–ö–ò</h3>
                        <div class={styles["status-indicator"]}>
                            <span class="{styles['status-dot']} {styles.active}"></span>
                            <span>–ê–ö–¢–ò–í–ù–ê–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ê</span>
                        </div>
                        <p>–°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã.</p>
                    </div>
                    
                    <div class={styles["info-card"]}>
                        <h3>–ê–†–•–ò–¢–ï–ö–¢–£–†–ê</h3>
                        <ul class={styles["feature-list"]}>
                            <li>‚úì –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</li>
                            <li>‚úì –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</li>
                            <li>‚ö† P2P –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</li>
                            <li>‚ö† –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)</li>
                        </ul>
                    </div>
                </div>
            </section>

        {:else if currentSection === "encryption"}
            <section class={styles["content-section"]}>
                <h2 class={styles["section-title"]}>// –ê–õ–ì–û–†–ò–¢–ú–´ –®–ò–§–†–û–í–ê–ù–ò–Ø //</h2>
                <div class={styles["crypto-info"]}>
                    <div class={styles["crypto-card"]}>
                        <h3>LIBSODIUM</h3>
                        <p>–û—Å–Ω–æ–≤–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.</p>
                        <div class={styles["tech-details"]}>
                            <span class={styles["tech-tag"]}>Curve25519</span>
                            <span class={styles["tech-tag"]}>Ed25519</span>
                        </div>
                    </div>
                    
                    <div class={styles["crypto-card"]}>
                        <h3>–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï</h3>
                        <p>–ö–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–µ–±–µ –ø–∞—Ä–æ–ª—å, –Ω–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π.</p>
                        <div class={styles["use-case"]}>
                            <code>CLIENT ‚Üí ENCRYPT ‚Üí SEND ‚Üí STORE ‚Üí DECRYPT ‚Üí CLIENT</code>
                        </div>
                    </div>
                </div>
            </section>

        {:else if currentSection === "users"}
            <section class={styles["content-section"]}>
                <h2 class={styles["section-title"]}>// –£–ü–†–ê–í–õ–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú–ò //</h2>
                <div class={styles["user-info"]}>
                    <div class={styles["feature-status"]}>
                        <h3>–†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò</h3>
                        <ul class={styles["status-list"]}>
                            <li class={styles.implemented}>‚úì –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                            <li class={styles.implemented}>‚úì –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</li>
                            <li class={styles.implemented}>‚úì –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π</li>
                            <li class={styles["in-progress"]}>‚ö† –û–±–º–µ–Ω –∫–ª—é—á–∞–º–∏</li>
                            <li class={styles.planned}>‚óã –ì—Ä—É–ø–ø–æ–≤—ã–µ –ø—Ä–∞–≤–∞</li>
                        </ul>
                    </div>
                    
                    <div class={styles["security-note"]}>
                        <h3>–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨</h3>
                        <p>–í—Å–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.</p>
                    </div>
                </div>
            </section>

        {:else if currentSection === "roadmap"}
            <section class={styles["content-section"]}>
                <h2 class={styles["section-title"]}>// –ü–õ–ê–ù –†–ê–ó–í–ò–¢–ò–Ø //</h2>
                <div class={styles.roadmap}>
                    <div class="{styles['roadmap-item']} {styles.completed}">
                        <div class={styles["roadmap-marker"]}></div>
                        <div class={styles["roadmap-content"]}>
                            <h3>–§–ê–ó–ê 1: –û–°–ù–û–í–´</h3>
                            <p>–ë–∞–∑–æ–≤–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                            <span class={styles["roadmap-status"]}>–ó–ê–í–ï–†–®–ï–ù–û</span>
                        </div>
                    </div>
                    
                    <div class="{styles['roadmap-item']} {styles.current}">
                        <div class={styles["roadmap-marker"]}></div>
                        <div class={styles["roadmap-content"]}>
                            <h3>–§–ê–ó–ê 2: –ö–û–ú–ú–£–ù–ò–ö–ê–¶–ò–Ø</h3>
                            <p>P2P —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏</p>
                            <span class={styles["roadmap-status"]}>–í –ü–†–û–¶–ï–°–°–ï</span>
                        </div>
                    </div>
                    
                    <div class="{styles['roadmap-item']} {styles.planned}">
                        <div class={styles["roadmap-marker"]}></div>
                        <div class={styles["roadmap-content"]}>
                            <h3>–§–ê–ó–ê 3: –†–ê–°–®–ò–†–ï–ù–ò–ï</h3>
                            <p>–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</p>
                            <span class={styles["roadmap-status"]}>–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø</span>
                        </div>
                    </div>
                </div>
            </section>

        {:else if currentSection === "security"}
            <section class={styles["content-section"]}>
                <h2 class={styles["section-title"]}>// –ú–û–î–ï–õ–¨ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò //</h2>
                <div class={styles["security-model"]}>
                    <div class={styles["security-principle"]}>
                        <h3>ZERO-KNOWLEDGE</h3>
                        <p>–°–µ—Ä–≤–µ—Ä –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∞—à–∏–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –∫–ª—é—á–∞–º –∏–ª–∏ –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.</p>
                    </div>
                    
                    <div class={styles["security-principle"]}>
                        <h3>END-TO-END</h3>
                        <p>–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è.</p>
                    </div>
                    
                    <div class={styles["security-principle"]}>
                        <h3>FORWARD SECRECY</h3>
                        <p>–ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –∫–ª—é—á–µ–π –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ—à–ª—ã—Ö —Å–µ—Å—Å–∏–π.</p>
                    </div>
                </div>
            </section>
        {/if}
    </main>

    <footer class={styles["docs-footer"]}>
        <p>// SECURE_DOCUMENTATION_TERMINAL_v0.0.1 //</p>
    </footer>
</div>
