# üöÄ IndexedDB –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ - –ù–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞!

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É IndexedDB –ø—Ä–æ–µ–∫—Ç–∞ secure-message! –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ø–æ—à–∞–≥–æ–≤–æ, –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –∫ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º.

## ü§î –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —ç—Ç–∞ —Å–∏—Å—Ç–µ–º–∞?

### –ü—Ä–æ–±–ª–µ–º—ã –æ–±—ã—á–Ω–æ–≥–æ IndexedDB

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π IndexedDB –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ—É–¥–æ–±—Å—Ç–≤:

```javascript
// ‚ùå –û–±—ã—á–Ω—ã–π IndexedDB - –º–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
const request = indexedDB.open('mydb', 1);
request.onerror = function(event) { /* –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ */ };
request.onupgradeneeded = function(event) { /* —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã */ };
request.onsuccess = function(event) {
  const db = event.target.result;
  const transaction = db.transaction(['users'], 'readwrite');
  const store = transaction.objectStore('users');
  const addRequest = store.add({ name: 'John' });
  addRequest.onsuccess = function() { /* —É—Å–ø–µ—Ö */ };
  addRequest.onerror = function() { /* –æ—à–∏–±–∫–∞ */ };
};
```

### –ß—Ç–æ —Ä–µ—à–∞–µ—Ç –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞?

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –≤—Å–µ–≥–æ –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `indexdb_wrapper()`  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏** - —Å—Ö–µ–º–∞ –ë–î –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–∞–º–∞  
‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏** - –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö  
‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–±–æ–µ–≤  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∫–æ–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω  

```typescript
// ‚úÖ –ù–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ - –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ
await indexdb_wrapper(async (db) => {
  const store = db.transaction(['users'], 'readwrite').objectStore('users');
  await store.add({ name: 'John' });
});
```

## üìö IndexedDB –∑–∞ 5 –º–∏–Ω—É—Ç

### –ß—Ç–æ —Ç–∞–∫–æ–µ IndexedDB?
IndexedDB - —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –î—É–º–∞–π—Ç–µ –æ –Ω–µ–π –∫–∞–∫ –æ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –≥–¥–µ –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –±–æ–ª—å—à–∏–µ –æ–±—ä—ë–º—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–æ–æ–±—â–µ–Ω–∏—è, —Ñ–∞–π–ª—ã).

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

| –¢–µ—Ä–º–∏–Ω | –ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ | –ê–Ω–∞–ª–æ–≥–∏—è |
|--------|-------------------|----------|
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö | –ü–∞–ø–∫–∞ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ |
| **Object Store** | –¢–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ | –§–∞–π–ª Excel —Å —Ç–∞–±–ª–∏—Ü–µ–π |
| **–ú–∏–≥—Ä–∞—Ü–∏—è** | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –≤ Excel |
| **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è** | –ì—Ä—É–ø–ø–∞ –æ–ø–µ—Ä–∞—Ü–∏–π | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞–∑–æ–º |

### –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä

```typescript
import { indexdb_wrapper } from './main_les_store_v1/indexdb_wrapper';

// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
await indexdb_wrapper(async (db) => {
  const store = db.transaction(['accounts'], 'readwrite').objectStore('accounts');
  await store.put({
    id: 1,
    name: '–ú–æ–π –∞–∫–∫–∞—É–Ω—Ç',
    email: 'test@example.com'
  });
});

// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
await indexdb_wrapper(async (db) => {
  const store = db.transaction(['accounts'], 'readonly').objectStore('accounts');
  const account = await store.get(1);
  console.log(account); // { id: 1, name: '–ú–æ–π –∞–∫–∫–∞—É–Ω—Ç', email: 'test@example.com' }
});
```

## üéØ –ü–æ—à–∞–≥–æ–≤—ã–π Tutorial

### –®–∞–≥ 1: –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (5 –º–∏–Ω—É—Ç)

–ù–∞—á–Ω—ë–º —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ - —á—Ç–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

```typescript
import { indexdb_wrapper } from './main_les_store_v1/indexdb_wrapper';

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã
await indexdb_wrapper(async (db) => {
  const transaction = db.transaction(['accounts'], 'readonly');
  const store = transaction.objectStore('accounts');
  
  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏
  const allAccounts = await store.getAll();
  console.log('–í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã:', allAccounts);
  
  // –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å
  const account = await store.get(1);
  console.log('–ê–∫–∫–∞—É–Ω—Ç —Å ID 1:', account);
});
```

**üí° –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:**
- `readonly` - –º—ã —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ–º, –Ω–µ –∏–∑–º–µ–Ω—è–µ–º
- `getAll()` - –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
- `get(id)` - –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ ID

### –®–∞–≥ 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (10 –º–∏–Ω—É—Ç)

–¢–µ–ø–µ—Ä—å –Ω–∞—É—á–∏–º—Å—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—å:

```typescript
// –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
await indexdb_wrapper(async (db) => {
  const store = db.transaction(['accounts'], 'readwrite');
  const accountStore = store.objectStore('accounts');
  
  const newAccount = {
    id: Date.now(), // –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
    name: '–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
    email: 'new@example.com',
    createdAt: new Date()
  };
  
  await accountStore.add(newAccount);
  console.log('–ê–∫–∫–∞—É–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω!');
});
```

**üí° –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:**
- `readwrite` - —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `add()` - –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å (–æ—à–∏–±–∫–∞ –µ—Å–ª–∏ ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- `put()` - –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (10 –º–∏–Ω—É—Ç)

```typescript
// –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞–∫–∫–∞—É–Ω—Ç
await indexdb_wrapper(async (db) => {
  const store = db.transaction(['accounts'], 'readwrite');
  const accountStore = store.objectStore('accounts');
  
  // –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å
  const account = await accountStore.get(1);
  if (account) {
    // –û–±–Ω–æ–≤–ª—è–µ–º –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è
    account.name = '–û–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –∏–º—è';
    account.updatedAt = new Date();
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
    await accountStore.put(account);
    console.log('–ê–∫–∫–∞—É–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω!');
  }
});
```

### –®–∞–≥ 4: –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (5 –º–∏–Ω—É—Ç)

```typescript
// –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
await indexdb_wrapper(async (db) => {
  const store = db.transaction(['accounts'], 'readwrite');
  const accountStore = store.objectStore('accounts');
  
  await accountStore.delete(1);
  console.log('–ê–∫–∫–∞—É–Ω—Ç —É–¥–∞–ª—ë–Ω!');
});
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã (10 –º–∏–Ω—É—Ç)

–£–∑–Ω–∞–µ–º, –≤ –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞—à–∞ –±–∞–∑–∞:

```typescript
import { getDbState } from './db_state_manager_v1/db_state_manager';
import { DB_NAMES } from './constants';

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
const state = await getDbState(DB_NAMES.MAIN_LES_STORE_V1);

if (state) {
  console.log('–í–µ—Ä—Å–∏—è –ë–î:', state.version);
  console.log('–°—Ç–∞—Ç—É—Å:', state.status);
  console.log('–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:', state.lastUpdated);
} else {
  console.log('–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â—ë –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:**
- `IDLE` - –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ, –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å
- `UPDATE_STARTED` - –∏–¥—ë—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
- `UPDATE_SUCCESS` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å —É—Å–ø–µ—à–Ω–æ
- `UPDATE_FAILED` - –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞

## üîç –ì–ª–æ—Å—Å–∞—Ä–∏–π –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤

### –û—Å–Ω–æ–≤—ã IndexedDB

**IndexedDB** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**Object Store** - –∞–Ω–∞–ª–æ–≥ —Ç–∞–±–ª–∏—Ü—ã –≤ SQL –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –•—Ä–∞–Ω–∏—Ç –∑–∞–ø–∏—Å–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞.

**Transaction** - –≥—Ä—É–ø–ø–∞ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ë–î, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ (–ª–∏–±–æ –≤—Å–µ —É—Å–ø–µ—à–Ω–æ, –ª–∏–±–æ –Ω–∏ –æ–¥–Ω–æ–π).

**Key** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –≤ Object Store (–∞–Ω–∞–ª–æ–≥ PRIMARY KEY –≤ SQL).

### –¢–µ—Ä–º–∏–Ω—ã –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã

**–ú–∏–≥—Ä–∞—Ü–∏—è** - –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.

**–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** - —Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –ë–î, –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

**State Manager** - —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—â–∞—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.

**Code Splitting** - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–¥–∞ –º–∏–≥—Ä–∞—Ü–∏–π —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–Ω–∏ –Ω—É–∂–Ω—ã.

**Connection Manager** - —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∫ –ë–î.

### –°—Ç–∞—Ç—É—Å—ã –ë–î

**IDLE** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.

**UPDATE_STARTED** - –Ω–∞—á–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î (–º–∏–≥—Ä–∞—Ü–∏—è).

**UPDATE_SUCCESS** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ.

**UPDATE_FAILED** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å —Å –æ—à–∏–±–∫–æ–π.

**CORRUPTED** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞ –∏ —Ç—Ä–µ–±—É–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

## üéØ –ß—Ç–æ –∏–∑—É—á–∞—Ç—å –¥–∞–ª—å—à–µ?

### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. **[üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](./examples.md)** - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ —Å —Ä–µ—à–µ–Ω–∏—è–º–∏
2. **[‚ùì FAQ](./faq.md)** - –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
3. **[üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏](./state-management.md)** - –∫–æ–≥–¥–∞ –æ—Å–≤–æ–∏—Ç–µ –æ—Å–Ω–æ–≤—ã

### –î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. **[üè† –û–±—â–∏–π –æ–±–∑–æ—Ä](./overview.md)** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
2. **[üîÑ –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π](./migrations.md)** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π
3. **[üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../src/indexdb/README.md)** - –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –î–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤:
1. **[üîÑ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Ü–µ–Ω—Ç—Ä–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](../../src/indexdb/user-centric-architecture.md)** - –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
2. **[üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è](../../src/indexdb/main_les_store_v1/ARCHITECTURE_DECISIONS.md)** - –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### –ß—Ç–æ –ù–ï —Å—Ç–æ–∏—Ç –¥–µ–ª–∞—Ç—å

‚ùå **–ù–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ indexdb_wrapper –≤–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–π** - –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –ë–î
‚ùå **–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –¥–ª–∏–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –∏—Ö –æ—Ç–º–µ–Ω–∏—Ç—å
‚ùå **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ async/await** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
‚ùå **–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ë–î** - IndexedDB –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ

### –ß—Ç–æ —Å—Ç–æ–∏—Ç –ø–æ–º–Ω–∏—Ç—å

‚úÖ **–í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏** - –ë–î –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞  
‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –æ–Ω–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö  
‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –ë–î** - –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö** - IndexedDB –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É  

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–í–æ—Ç –ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:

```typescript
import { indexdb_wrapper } from './main_les_store_v1/indexdb_wrapper';
import { getDbState } from './db_state_manager_v1/db_state_manager';
import { DB_NAMES } from './constants';

async function myFirstDatabaseFunction() {
  try {
    // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î
    const state = await getDbState(DB_NAMES.MAIN_LES_STORE_V1);
    console.log('–°–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î:', state?.status);
    
    // 2. –†–∞–±–æ—Ç–∞–µ–º —Å –¥–∞–Ω–Ω—ã–º–∏
    await indexdb_wrapper(async (db) => {
      const store = db.transaction(['accounts'], 'readwrite').objectStore('accounts');
      
      // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–ø–∏—Å—å
      const testAccount = {
        id: Date.now(),
        name: '–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
        email: 'test@example.com',
        createdAt: new Date()
      };
      
      await store.put(testAccount);
      console.log('–ê–∫–∫–∞—É–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω!');
      
      // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞–ø–∏—Å–∏
      const allAccounts = await store.getAll();
      console.log('–í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã:', allAccounts);
    });
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ë–î:', error);
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
myFirstDatabaseFunction();
```

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!** –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–æ–π IndexedDB. 

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –∏–∑—É—á–∏—Ç–µ [–ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](./examples.md) –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏–ª–∏ [FAQ](./faq.md) –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã.
