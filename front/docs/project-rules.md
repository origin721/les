# Правила проекта

## Структура компонентов

### Общие компоненты
- **Расположение**: `src/components/ui/` - для простых переиспользуемых UI компонентов (Button, Input, Card и т.д.)
- **Расположение**: `src/components/widgets/` - для сложных переиспользуемых компонентов (LoadingSequence, сложные формы и т.д.)
- **Расположение**: `src/components/forms/` - для форм и связанных компонентов
- **Расположение**: `src/widgets/` - для самостоятельных виджетов уровня приложения
- **Когда создавать**: Если компонент может быть переиспользован в разных частях приложения

### Локальные компоненты
- **Расположение**: Рядом с компонентом, который их использует
- **Когда создавать**: Если компонент специфичен только для одной страницы/компонента
- **Пример**: `src/pages/auth/ui/AuthPage.svelte` и `src/pages/auth/ui/AuthLoginForm.svelte`

### Различия между ui, widgets и widgets верхнего уровня
- **`src/components/ui/`** - простые, базовые компоненты (кнопки, поля ввода, карточки)
- **`src/components/widgets/`** - сложные переиспользуемые компоненты (последовательности загрузки, сложные формы)
- **`src/widgets/`** - самостоятельные виджеты уровня приложения (могут содержать бизнес-логику)

### Анимации
- **Общие анимации**: В `src/components/ui/` или `src/styles/`
- **Локальные анимации**: В CSS файле рядом с компонентом

## Стили и CSS

### Структура файлов стилей
- **Общие стили**: `src/styles/app.css`, `src/styles/themes.css`
- **Модульные стили**: `src/styles/modules/` для переиспользуемых CSS модулей
- **Локальные стили**: Рядом с компонентом в `.module.css` файлах
- **Правило**: Выносить стили в отдельные CSS файлы, чтобы файлы компонентов не были слишком большими

### Цветовая схема
- **СТРОГО ЗАПРЕЩЕНО**: Использовать кастомные цвета напрямую в компонентах
- **ОБЯЗАТЕЛЬНО**: Использовать только CSS переменные из `src/styles/themes.css`
- **Расширение палитры**: Можно добавлять новые цвета только в `src/styles/themes.css`
- **Переменные**: Использовать формат `--les-{category}-{variant}` (например, `--les-accent-primary`)

### Примеры правильного использования цветов:
```css
/* ✅ ПРАВИЛЬНО */
.button {
  background-color: var(--les-accent-primary);
  border-color: var(--les-border-primary);
  color: var(--les-text-primary);
}

/* ❌ НЕПРАВИЛЬНО */
.button {
  background-color: #ff00ff;
  border-color: #00ff00;
  color: white;
}
```

## Темы

### Применение тем
- Темы применяются через `data-theme` атрибут на `body`
- Все цвета должны быть определены в CSS переменных для каждой темы
- Переключение тем происходит через `stores/theme.ts`
- Цвета для тем должны браться из ОДНОГО места - `src/styles/themes.css`

### Добавление новой темы
1. Добавить тему в массив `themes` в `stores/theme.ts`
2. Определить все CSS переменные для новой темы в `src/styles/themes.css`
3. Убедиться что все компоненты корректно работают с новой темой

## Файловая структура

### Страницы
- **Расположение**: `src/pages/{page_name}/ui/`
- **Главный компонент**: `{PageName}Page.svelte`
- **Локальные компоненты**: В той же папке
- **Стили**: `{PageName}Page.module.css` или локальные CSS файлы

### Правила именования
- Компоненты: PascalCase (например, `AuthPage.svelte`)
- CSS файлы: camelCase с .module.css (например, `authPage.module.css`)
- Папки: snake_case (например, `auth_page`)

## Принципы разработки

### Переиспользование компонентов
- Существующие компоненты НЕ должны быть ограничением
- Можно создавать новые общие компоненты если это улучшает архитектуру
- Можно создавать новые локальные компоненты для специфических нужд

### Расширение возможностей
- Можно расширять цветовую палитру в `src/styles/themes.css`
- Можно добавлять новые CSS переменные для тем
- Можно создавать новые модули в `src/styles/modules/`

### Организация кода
- Выносить сложную логику в отдельные файлы
- Разделять UI компоненты и бизнес-логику
- Использовать TypeScript для типизации
- Документировать сложные компоненты

## Кнопки и интерактивные элементы

### Стили кнопок
- **Основные кнопки**: Заливка цветом
- **Вторичные кнопки**: Только рамка цветная (outline)
- **Кнопки действий**: В соответствии с их назначением

### Пример правильного оформления кнопки авторизации:
```css
/* Кнопка авторизации должна быть outline */
.auth-button {
  background: transparent;
  border: 2px solid var(--les-accent-primary);
  color: var(--les-accent-primary);
}

.auth-button:hover {
  background: var(--les-accent-primary);
  color: var(--les-bg-primary);
}
```

## Важные замечания для ИИ

1. **Цвета**: Всегда использовать только CSS переменные из themes.css
2. **Компоненты**: Создавать новые компоненты при необходимости
3. **Стили**: Выносить в отдельные CSS файлы
4. **Темы**: Все изменения цветов только в themes.css
5. **Кнопки**: Соблюдать правила оформления (заливка vs outline)
6. **Widgets**: Различать ui (простые), widgets (сложные) и widgets верхнего уровня
