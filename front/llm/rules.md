# Правила и указания проекта

## Обязательные правила проекта:

1. **Ограничение изменений**: Не меняй больше 2х файлов за раз до выключения. Выключайся чаще, прося продолжить для экономии токенов.

2. **Размер файлов**: Чем меньше файл тем лучше - что с кодом, что с документацией. Максимум 200 строк на файл.

3. **Структура компонентов**: Для компонентов используй директорию `Widgets`, а не `components`.

4. **Архитектура сервисов**: Большие сервисы разделяй на модули по 100-150 строк. Каждый метод должен иметь четкий возвращаемый тип.

5. **Миграция сервисов**: Новый сервис `createFriendsLibp2pService.ts` заменяет старый `friends_libp2p_service.ts`. Старый файл нужно удалить при следующем запуске.

2. **Стиль кода**: Не меняй кардинально существующий код. Подстраивайся под стиль, чтобы упростить ревью.

3. **Тестирование**: Не запускай тесты, если не просят. Используй только команду `npm run test`.

4. **Единицы измерения**: Используй `rem` как единицу измерения, а не `px`.

5. **Цвета**: Для цветов используй переменные Tailwind: `text-[var(--...)]`.

6. **Язык**: Всегда отвечай на русском языке.

7. **Анализ тестов**: При анализе вывода тестов обращай внимание на слово `failed`.

8. **Решение проблем с установкой**: Если ошибка повторяется, попробуй `npm install` и `npm run test`.

9. **Откат к рабочему состоянию**: Если ошибка не исчезла, используй `git checkout HEAD~` для поиска рабочего состояния. После нахождения проблемы, верни актуальный `llm_prompt` с помощью `git checkout -- front/llm_prompt` и исправь ошибку в актуальной версии.
